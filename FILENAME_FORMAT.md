# PDF Filename Format

The extension uses different filename formats to clearly identify how each receipt was downloaded and what settings were used.

## Format Patterns

### In-Store Orders (Print Method)
```
staples/YYYY-MM-DD-{transaction-number}-print-{image-setting}.pdf
```

**Examples:**
- `2025-10-16-POS.542.20251004.4.23365-print-img.pdf` - With images
- `2025-10-16-POS.542.20251004.4.23365-print-noimg.pdf` - Without images

### Online Orders (Direct Download)
```
staples/YYYY-MM-DD-{order-number}-direct.pdf
```

**Example:**
- `2025-10-16-123456789-direct.pdf` - Direct PDF download from receipt link

### Online Orders (Print Method - Optional)
```
staples/YYYY-MM-DD-{order-number}-print-{image-setting}.pdf
```

**Examples:**
- `2025-10-16-123456789-print-img.pdf` - Generated from print page with images
- `2025-10-16-123456789-print-noimg.pdf` - Generated from print page without images

## Filename Components

### Date Prefix
- **Format**: `YYYY-MM-DD`
- **Purpose**: Sorts receipts chronologically
- **Example**: `2025-10-16`

### Transaction/Order Number
- **In-Store**: Full POS transaction ID (e.g., `POS.542.20251004.4.23365`)
- **Online**: Order number from Staples (e.g., `123456789`)

### Method Suffix
- **`-print`**: Generated by navigating to print page and using Chrome PDF API
- **`-direct`**: Direct download from Staples receipt PDF link
- **Purpose**: Identifies download method used

### Image Setting Suffix (Print Method Only)
- **`-img`**: PDF includes product images and photos
- **`-noimg`**: PDF is text-only, faster to generate
- **Purpose**: Identifies whether images were included

## Why Different Formats?

### Method Identifier (`-print` vs `-direct`)
1. **Troubleshooting**: Quickly identify which method was used
2. **Quality comparison**: Compare print vs direct quality
3. **Performance tracking**: See which method is faster/more reliable

### Image Identifier (`-img` vs `-noimg`)
1. **File size**: Images significantly increase file size
2. **Performance**: Know which receipts took longer to generate
3. **Completeness**: Verify you have the full receipt with images when needed

## Settings Impact

| Setting | In-Store Orders | Online Orders (Print=OFF) | Online Orders (Print=ON) |
|---------|----------------|--------------------------|--------------------------|
| Print with Images = ON | `*-print-img.pdf` | `*-direct.pdf` | `*-print-img.pdf` |
| Print with Images = OFF | `*-print-noimg.pdf` | `*-direct.pdf` | `*-print-noimg.pdf` |

## File Organization Tips

With these naming conventions, you can easily:

1. **Sort by date**: All filenames start with YYYY-MM-DD
2. **Filter by method**: Search for `-print` or `-direct`
3. **Filter by images**: Search for `-img` or `-noimg`
4. **Compare versions**: Same receipt with different settings has different filenames

## Examples by Scenario

### Scenario 1: Default Settings
- Print with Images: ON
- Online Order Print: OFF

**Results:**
- In-store: `2025-10-16-POS.542.20251004.4.23365-print-img.pdf`
- Online: `2025-10-16-123456789-direct.pdf`

### Scenario 2: Fast Downloads
- Print with Images: OFF
- Online Order Print: OFF

**Results:**
- In-store: `2025-10-16-POS.542.20251004.4.23365-print-noimg.pdf`
- Online: `2025-10-16-123456789-direct.pdf`

### Scenario 3: Consistent Formatting
- Print with Images: ON
- Online Order Print: ON

**Results:**
- In-store: `2025-10-16-POS.542.20251004.4.23365-print-img.pdf`
- Online: `2025-10-16-123456789-print-img.pdf`

### Scenario 4: Fast + Consistent
- Print with Images: OFF
- Online Order Print: ON

**Results:**
- In-store: `2025-10-16-POS.542.20251004.4.23365-print-noimg.pdf`
- Online: `2025-10-16-123456789-print-noimg.pdf`

## Filename Length Considerations

The filenames are intentionally descriptive to provide maximum information at a glance.

**Average lengths:**
- Direct download: ~45 characters
- Print without images: ~55 characters
- Print with images: ~52 characters

All filenames remain under the typical filesystem limit of 255 characters.

## Backward Compatibility

**Old format** (before this update):
```
staples/YYYY-MM-DD-{transaction-number}.pdf
```

**New format**:
```
staples/YYYY-MM-DD-{transaction-number}-print-img.pdf
```

The new format adds suffixes but maintains the same structure, so old and new receipts will sort together chronologically.
